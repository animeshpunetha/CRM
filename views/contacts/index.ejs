<%- include('../partials/header') %>

<div class="card shadow-sm mb-4">
  <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
    <h2 class="card-title mb-0">All Contacts</h2>
    <div>
      <a href="/contacts/new" class="btn btn-light me-2">New Lead</a> <a href="/contacts/import" class="btn btn-light">Import XLSX</a>
    </div>
  </div>
  <div class="card-body">
    <% if (contacts && contacts.length > 0) { %>
      <div class="table-responsive"> <table class="table table-hover table-striped"> <thead class="table-light"> <tr>
              <th>Name</th>
              <th>Company</th>
              <th>Email</th>
              <th>Phone</th>
              <th>Actions</th> </tr>
          </thead>
          <tbody>
            <% contacts.forEach(contact => { %>
              <tr>
                <td><%= contact.name %></td>
                <td><%= contact.company %></td>
                <td><%= contact.email %></td>
                <td><%= contact.phone %></td>
                <td>
                  <a href="/contacts/<%= contact._id %>" class="btn btn-sm btn-info me-2">View</a>
                  <a href="/contacts/<%= contact._id %>/edit" class="btn btn-sm btn-warning">Edit</a>
                </td>
              </tr>
            <% }) %>
          </tbody>
        </table>
      </div>
    <% } else { %>
      <div class="alert alert-info" role="alert">
        No contacts found. Why not add one?
      </div>
    <% } %>
  </div>
  <div class="card-footer text-end">
    <a href="/contacts/new" class="btn btn-success btn-lg">Add New Contact</a> </div>
</div>

<%- include('../partials/footer') %>